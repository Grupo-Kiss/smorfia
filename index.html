<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <title>SMORFIA ARGENTINA</title>
    <style>
        :root {
            --primary-color: #003366;
            --background-color: #F0F0F0;
            --text-color: #333333;
            --light-text-color: #FFFFFF;
            --accent-color: #66B2FF;
            --secondary-color: #FFC107;
            --border-color: #A8A8A8;
        }

        body {
            transition: background-color 0.3s;
            font-family: 'Open Sans', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 1rem;
        }

        .dark {
            --primary-color: #66B2FF;
            --background-color: #181818;
            --text-color: #FFFFFF;
            --light-text-color: #FFFFFF;
            --accent-color: #003366;
            --secondary-color: #FFC107;
            --border-color: #A8A8A8;
        }

        #wheelCanvas {
            width: 100%;
            max-width: 400px;
            height: auto;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
        }

        @media (max-width: 640px) {
            body {
                padding: 0.5rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            #numbersGrid {
                grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            }
        }
.main-content {
            background-color: var(--background-color);
            padding: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .wheel-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .pointer {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%) translateY(-1rem);
            z-index: 10;
        }
.button-container {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

.result-container {
            text-align: center;
            padding: 1.5rem;
            margin-bottom: 1rem;
            background-color: var(--accent-color);
        }

        .result-text {
            color: var(--light-text-color);
            font-size: 1.125rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .result-number {
            color: var(--light-text-color);
            font-size: 3.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .result-meaning {
            color: var(--light-text-color);
            font-size: 1.5rem;
            font-weight: 700;
        }
.info-section {
            margin-top: 1.5rem;
            padding: 1rem;
            border: 2px solid var(--primary-color);
        }

        .numbers-grid-container {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: var(--background-color);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

.random-numbers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
        }

        .random-number-item {
            background-color: var(--primary-color);
            padding: 1rem;
            text-align: center;
            border: 2px solid var(--accent-color);
        }

        h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-align: center;
            color: var(--text-color);
        }
    </style>
</head>
<body>
    <div style="max-width: 48rem; margin-left: auto; margin-right: auto;">
        <!-- Header -->
        

        <!-- Main Content -->
        <div class="main-content">
            <!-- Wheel Container -->
            <div class="wheel-container">
                <!-- Pointer Arrow -->
                <div class="pointer">
                    <div style="width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent; border-top: 30px solid var(--primary-color);"></div>
                </div>

                <canvas id="wheelCanvas" width="400" height="400"></canvas>
            </div>

            <!-- Spin Button -->
            <div class="button-container">
                <button
                    id="spinBtn"
                    style="flex-grow: 1; padding: 1rem 1.5rem; background-color: var(--primary-color); color: var(--light-text-color); font-weight: 700; font-size: 1.25rem; transition: background-color 0.3s; border: none;"
                >
                    GIRAR RULETA
                </button>
                <button
                    id="dame6Btn"
                    style="flex-grow: 1; padding: 1rem 1.5rem; background-color: var(--secondary-color); color: var(--text-color); font-weight: 700; font-size: 1.25rem; transition: background-color 0.3s; border: none;"
                >
                    DAME 6
                </button>
                <button
                    id="dame8Btn"
                    style="flex-grow: 1; padding: 1rem 1.5rem; background-color: var(--secondary-color); color: var(--text-color); font-weight: 700; font-size: 1.25rem; transition: background-color 0.3s; border: none;"
                >
                    DAME 8
                </button>
            </div>

            <!-- Result Display -->
            <div id="resultDiv" class="result-container hidden">
                <p class="result-text">Sali칩 el:</p>
                <p id="resultNumber" class="result-number"></p>
                <p id="resultMeaning" class="result-meaning"></p>
            </div>

            <div id="randomNumbersDiv" class="result-container hidden"></div>

            <!-- Info Section -->
            <div class="info-section" style="background-color: rgba(0, 51, 102, 0.1); border-color: var(--primary-color);">
                
            </div>
        </div>

        <!-- Numbers Grid -->
        <div class="numbers-grid-container">
            <h2>Todos los N칰meros</h2>
            <div id="numbersGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); grid-auto-flow: dense; gap: 0.5rem; max-height: 96rem; overflow-y: auto;"></div>
        </div>
    </div>

    <script>
        // Dark mode setup
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Quiniela numbers and meanings
        const quiniela = {
            "00": "Huevos",
            "01": "Agua",
            "02": "Ni침o",
            "03": "San Cono",
            "04": "La cama",
            "05": "Gato",
            "06": "Perro",
            "07": "Rev칩lver",
            "08": "Incendio",
            "09": "Arroyo",
            "10": "La leche",
            "11": "Palito",
            "12": "Soldado",
            "13": "La yeta",
            "14": "Borracho",
            "15": "Ni침a bonita",
            "16": "Anillo",
            "17": "Desgracia",
            "18": "Sangre",
            "19": "Pescado",
            "20": "La fiesta",
            "21": "La mujer",
            "22": "El loco",
            "23": "Mariposa",
            "24": "Caballo",
            "25": "Gallina",
            "26": "La misa",
            "27": "El peine",
            "28": "El cerro",
            "29": "San Pedro",
            "30": "Santa Rosa",
            "31": "La luz",
            "32": "Dinero",
            "33": "Cristo",
            "34": "Cabeza",
            "35": "Pajarito",
            "36": "Manteca",
            "37": "Dentista",
            "38": "Aceite",
            "39": "Lluvia",
            "40": "Cura",
            "41": "Cucha",
            "42": "Zapatilla",
            "43": "Balc칩n",
            "44": "La c치rcel",
            "45": "El vino",
            "46": "Tomates",
            "47": "Muerto",
            "48": "Muerto habla",
            "49": "La carne",
            "50": "El pan",
            "51": "Serrucho",
            "52": "Madre",
            "53": "El barco",
            "54": "La vaca",
            "55": "Los gallegos",
            "56": "La ca칤da",
            "57": "Jorobado",
            "58": "Ahogado",
            "59": "Planta",
            "60": "Virgen",
            "61": "Escopete",
            "62": "Inundaci칩n",
            "63": "Casamiento",
            "64": "Llanto",
            "65": "Cazador",
            "66": "Lombrices",
            "67": "V칤bora",
            "68": "Sobrinos",
            "69": "Vicios",
            "70": "Muerto sue침os",
            "71": "Excrementos",
            "72": "Sorpresa",
            "73": "Hospital",
            "74": "Negros",
            "75": "Payaso",
            "76": "Llamas",
            "77": "Las piernas",
            "78": "Ramera",
            "79": "Ladr칩n",
            "80": "La bocha",
            "81": "Flores",
            "82": "Pelea",
            "83": "Mal tiempo",
            "84": "Iglesia",
            "85": "Linterna",
            "86": "Humo",
            "87": "Piojos",
            "88": "El Papa",
            "89": "La rata",
            "90": "El miedo",
            "91": "Excusado",
            "92": "M칠dico",
            "93": "Enamorado",
            "94": "Cementerio",
            "95": "Anteojos",
            "96": "Marido",
            "97": "La mesa",
            "98": "Lavandera",
            "99": "Hermanos"
        };

        // App state
        let isSpinning = false;

        // DOM elements
        const spinBtn = document.getElementById('spinBtn');
        const dame6Btn = document.getElementById('dame6Btn');
        const dame8Btn = document.getElementById('dame8Btn');
        const resultDiv = document.getElementById('resultDiv');
        const resultNumber = document.getElementById('resultNumber');
        const resultMeaning = document.getElementById('resultMeaning');
        const randomNumbersDiv = document.getElementById('randomNumbersDiv');
        const canvas = document.getElementById('wheelCanvas');
        const ctx = canvas.getContext('2d');
        const numbersGrid = document.getElementById('numbersGrid');

        // Generate colors for wheel segments
        function generateColors(count) {
            const baseColors = ['#A4D65E', '#FF7F50', '#FF6F61', '#FFD700'];
            const colors = [];
            for (let i = 0; i < count; i++) {
                colors.push(baseColors[i % baseColors.length]);
            }
            return colors;
        }

        const colors = generateColors(100);

        // Render numbers grid
        function renderNumbersGrid() {
            const numbers = Object.keys(quiniela).sort();
            const html = numbers.map(num => {
                const size = Math.random() > 0.8 ? '2' : '1';
                return `
                <div style="background-color: var(--background-color); padding: 0.5rem; text-align: center; border: 2px solid var(--primary-color); grid-column: span ${size}; grid-row: span ${size};">
                    <div style="font-weight: 700; color: var(--primary-color);">${num}</div>
                    <div style="font-size: 0.75rem; color: var(--text-color);">${quiniela[num]}</div>
                </div>
            `}).join('');
            numbersGrid.innerHTML = html;
        }

        // Draw wheel with segments
        function drawWheel(rotation = 0) {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 180;
            const numbers = Object.keys(quiniela);
            const sliceAngle = (2 * Math.PI) / numbers.length;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw segments
            numbers.forEach((num, index) => {
                const startAngle = rotation + index * sliceAngle;
                const endAngle = startAngle + sliceAngle;

                // Draw segment
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, startAngle, endAngle);
                ctx.closePath();
                ctx.fillStyle = colors[index];
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 1;
                ctx.stroke();

                // Draw number (only for larger segments or every nth number)
                if (numbers.length <= 50 || index % 2 === 0) {
                    ctx.save();
                    ctx.translate(centerX, centerY);
                    ctx.rotate(startAngle + sliceAngle / 2);
                    ctx.textAlign = 'right';
                    ctx.fillStyle = '#fff';
                    ctx.font = 'bold 10px sans-serif';
                    ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
                    ctx.shadowBlur = 2;
                    ctx.fillText(num, radius - 10, 3);
                    ctx.restore();
                }
            });

            // Draw center circle
            ctx.beginPath();
            ctx.arc(centerX, centerY, 25, 0, 2 * Math.PI);
            ctx.fillStyle = '#fff';
            ctx.fill();
            ctx.strokeStyle = 'var(--primary-color)';
            ctx.lineWidth = 4;
            ctx.stroke();

            // Draw center text
            ctx.fillStyle = 'var(--primary-color)';
            ctx.font = 'bold 12px sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('游', centerX, centerY);
        }

        // Spin wheel
        function spinWheel() {
            if (isSpinning) return;

            isSpinning = true;
            spinBtn.disabled = true;
            resultDiv.classList.add('hidden');

            const numbers = Object.keys(quiniela);
            const sliceAngle = (2 * Math.PI) / numbers.length;

            // Random number of full rotations + random position
            const randomSpins = 5 + Math.random() * 3; // 5-8 full rotations
            const totalRotation = randomSpins * 2 * Math.PI;
            const duration = 5000; // 5 seconds
            const startTime = Date.now();

            function animate() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);

                // Easing function for smooth deceleration
                const easeOut = 1 - Math.pow(1 - progress, 4);
                const currentRotation = totalRotation * easeOut;

                drawWheel(currentRotation);

                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    // Calculate winning number
                    const normalizedRotation = (currentRotation % (2 * Math.PI) + 2 * Math.PI) % (2 * Math.PI);
                    const pointerAngle = Math.PI / 2; // Pointer at top (90 degrees)
                    const winningAngle = (pointerAngle - normalizedRotation + 2 * Math.PI) % (2 * Math.PI);
                    const winningIndex = Math.floor(winningAngle / sliceAngle);
                    const winningNumber = numbers[winningIndex];
                    const winningMeaning = quiniela[winningNumber];

                    // Show result
                    setTimeout(() => {
                        resultNumber.textContent = winningNumber;
                        resultMeaning.textContent = winningMeaning;
                        resultDiv.classList.remove('hidden');
                        isSpinning = false;
                        spinBtn.disabled = false;
                    }, 500);
                }
            }

            animate();
        }

        // Event listeners
        spinBtn.addEventListener('click', spinWheel);
        dame6Btn.addEventListener('click', () => showRandomNumbers(6));
        dame8Btn.addEventListener('click', () => showRandomNumbers(8));

        function getRandomNumbers(count) {
            const numbers = Object.keys(quiniela);
            const shuffled = numbers.sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        function showRandomNumbers(count) {
            const randomNumbers = getRandomNumbers(count);
            const numbersHtml = randomNumbers.map(num => `
                <div class="random-number-item">
                    <p class="result-number">${num}</p>
                    <p class="result-meaning">${quiniela[num]}</p>
                </div>
            `).join('');

            const shareButtonHtml = `<button id="shareBtn" style="margin-top: 1rem; padding: 1rem 1.5rem; background-color: var(--primary-color); color: var(--light-text-color); font-weight: 700; font-size: 1.25rem; transition: background-color 0.3s; border: none;">COMPARTIR</button>`;

            randomNumbersDiv.innerHTML = `<div class="random-numbers-grid">${numbersHtml}</div>${shareButtonHtml}`;
            randomNumbersDiv.classList.remove('hidden');
            resultDiv.classList.add('hidden');

            document.getElementById('shareBtn').addEventListener('click', () => {
                const shareText = randomNumbers.map(num => `${num}: ${quiniela[num]}`).join('\n');
                if (navigator.share) {
                    navigator.share({
                        title: 'Mis n칰meros de la suerte',
                        text: `Mis n칰meros de la suerte:\n${shareText}`,
                    })
                    .catch(console.error);
                } else {
                    // Fallback for browsers that don't support Web Share API
                    alert(`Copia estos n칰meros:\n\n${shareText}`);
                }
            });
        }

        // Initialize
        renderNumbersGrid();
        drawWheel();
    </script>
</body>
</html>
